# Upptime Status Page Configuration
# https://github.com/upptime/upptime
#
# TuxedoDrive Production Monitoring
# Monitors all critical services supporting car wash operations
# Total services: 18 (internal APIs + external integrations)
#
# ğŸˆ BRAND VOICE & UX APPROACH
# ============================================================================
# This status page uses TuxedoDrive's friendly, supportive brand voice to help
# users understand their platform's health at a glance.
#
# Key design principles:
# 1. Emoji Icons: Each service has a clear emoji for quick visual identification
# 2. Service Categorization: Grouped by function (Core Platform, Payments, Email, etc.)
# 3. Helpful Descriptions: Comments explain what each service does and why it matters
# 4. Friendly Messaging: Intro text explains the page purpose in user-friendly language
# 5. Clear Action Items: Color codes (green/orange/red) guide users on what to do
# 6. Support-First Approach: Easy paths to get help when something goes wrong
#
# Services are organized in 8 logical categories:
# - ğŸˆ Internal Services (core platform & dashboards)
# - ğŸ’³ Payment Processing (financial transactions)
# - ğŸ“§ Email Services (confirmations & alerts)
# - ğŸ“± SMS & Messaging (quick notifications)
# - ğŸ” Authentication (login & security)
# - ğŸ—ï¸ Infrastructure (hosting & deployment)
# - ğŸ”’ Cloud Services (secrets & security)
# - âš™ï¸ Features (critical endpoints)

owner: tuxedodrive
repo: status
user-agent: Upptime (https://upptime.js.org)

# Services to monitor
# Internal services (our APIs) + External integrations (critical dependencies)
sites:
  # ============================================================================
  # ğŸˆ INTERNAL SERVICES - Our Car Wash Platform
  # ============================================================================
  # Your TuxedoDrive core experience. These are the systems we control.

  - name: ğŸš— Production Application
    url: https://tuxedodrive.com/health
    icon: https://tuxedodrive.com/favicon.ico
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET
    checkKeywords:
      - status
      - healthy

  - name: ğŸ§ª Staging Application
    url: https://staging.tuxedodrive.com/health
    icon: https://tuxedodrive.com/favicon.ico
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET
    checkKeywords:
      - status
      - healthy

  - name: ğŸ“¡ Edge API
    url: https://api.tuxedodrive.com/health
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET
    checkKeywords:
      - status

  - name: ğŸ‘¥ Customer Dashboard
    url: https://tuxedodrive.com/queens
    expectedStatusCodes:
      - 200
      - 302
    timeout: 5000
    method: GET

  - name: ğŸ‘” Operator Dashboard
    url: https://staging.tuxedodrive.com/demo/operator
    expectedStatusCodes:
      - 200
      - 302
    timeout: 5000
    method: GET

  - name: ğŸ“Š Owner Dashboard
    url: https://tuxedodrive.com/owner/dashboard
    expectedStatusCodes:
      - 200
      - 302
    timeout: 5000
    method: GET

  # ============================================================================
  # ğŸ’³ PAYMENT PROCESSING - Taking Care of Transactions
  # ============================================================================
  # Your customers' money moves safely through here.

  - name: ğŸ’° Stripe Payments
    url: https://api.stripe.com/v1/charges
    expectedStatusCodes:
      - 400
      - 401
    timeout: 5000
    method: GET

  # ============================================================================
  # ğŸ“§ EMAIL SERVICES - Keeping Everyone Connected
  # ============================================================================
  # Confirmations, receipts, alerts. We've got two email partners for reliability.

  - name: ğŸ“¬ Postmark Email Service
    url: https://api.postmarkapp.com/server/stats
    expectedStatusCodes:
      - 400
      - 401
      - 422
    timeout: 5000
    method: GET

  - name: ğŸ“¨ SendGrid Webhooks
    url: https://api.sendgrid.com/v3/mail/validate
    expectedStatusCodes:
      - 400
      - 401
      - 405
    timeout: 5000
    method: GET

  # ============================================================================
  # ğŸ“± SMS & MESSAGING - Quick Notifications
  # ============================================================================
  # Text messages to your phone when it matters.

  - name: ğŸ’¬ Twilio SMS Service
    url: https://api.twilio.com/
    expectedStatusCodes:
      - 401
      - 403
    timeout: 5000
    method: GET

  # ============================================================================
  # ğŸ” AUTHENTICATION - Secure Access Control
  # ============================================================================
  # Your login experience and identity verification.

  - name: ğŸ”‘ Google OAuth
    url: https://accounts.google.com/.well-known/openid-configuration
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET

  - name: ğŸŒ Google Cloud APIs
    url: https://www.googleapis.com/
    expectedStatusCodes:
      - 200
      - 400
    timeout: 5000
    method: GET

  # ============================================================================
  # ğŸ—ï¸ INFRASTRUCTURE & DEPLOYMENT - Where We Live
  # ============================================================================
  # The backbone keeping TuxedoDrive online 24/7.

  - name: ğŸš€ Render Deployment Platform
    url: https://render.com/status
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET

  - name: ğŸ™ GitHub Status
    url: https://www.githubstatus.com/
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET

  - name: ğŸ”— GitHub APIs
    url: https://api.github.com/
    expectedStatusCodes:
      - 200
    timeout: 5000
    method: GET

  # ============================================================================
  # ğŸ”’ CLOUD SERVICES - Security & Secrets
  # ============================================================================
  # Where we safely store your sensitive configuration.

  - name: ğŸ›¡ï¸ Doppler Secrets Management
    url: https://api.doppler.com/
    expectedStatusCodes:
      - 401
      - 400
    timeout: 5000
    method: GET

  # ============================================================================
  # âš™ï¸ FEATURE-SPECIFIC ENDPOINTS - The Details That Matter
  # ============================================================================
  # Critical features that make your car wash operations run smoothly.

  - name: ğŸ“ Location Management
    url: https://tuxedodrive.com/owner/locations
    expectedStatusCodes:
      - 200
      - 302
    timeout: 5000
    method: GET

  - name: ğŸ’µ Cash Handling System
    url: https://staging.tuxedodrive.com/demo/cash
    expectedStatusCodes:
      - 200
      - 302
    timeout: 5000
    method: GET

  - name: âœ… Payment Webhook Handler
    url: https://tuxedodrive.com/stripe/webhook
    expectedStatusCodes:
      - 200
      - 400
      - 405
    timeout: 5000
    method: POST

# Status website configuration
status-website:
  cname: status.tuxedo.drive.dev
  logoUrl: https://tuxedodrive.com/favicon.ico
  name: TuxedoDrive Status
  introTitle: "ğŸˆ **Your car wash platform, always running**"
  introMessage: |
    Welcome to TuxedoDrive's status page. We monitor **18 critical systems** across our entire platform â€” from your customer dashboards and payment processing, to email notifications and SMS alerts â€” so you can focus on what matters: running a smooth car wash operation.

    **Everything green?** You're good to go. **Something orange or red?** We're already on it, and you'll see updates here. Questions? Drop us a line at engineering@tuxedodrive.com â€” we're here to help.
  navbar:
    - title: Status
      href: /
    - title: TuxedoDrive Website
      href: https://tuxedodrive.com
    - title: GitHub
      href: https://github.com/tuxedodrive/status
    - title: Support
      href: mailto:engineering@tuxedodrive.com
  navbar2:
    - rss: /feed.xml

# Response time display and charts
responseTimeChart:
  scale: hour

graphsPerPage: 12

# Brand colors
colors:
  success: "#10b981"    # Emerald green - service healthy
  degraded: "#f97316"   # Orange - service degraded
  down: "#ef4444"       # Red - service down

# Notifications (create issues when services go down)
# When a service goes down, we immediately open a GitHub issue and alert the team via email
notifications:
  - type: github-issue
    title: "ğŸš¨ Service Alert: $SITE_NAME is experiencing issues"
    assignees:
      - tuxedodrive
  - type: email
    to: engineering@tuxedodrive.com
    subject: "âš ï¸ TuxedoDrive Status Alert: $SITE_NAME"

# Monitoring schedules (cron format)
workflowSchedule:
  responseTime: "0 23 * * *"    # Daily @ 11 PM UTC
  graphs: "0 0 * * *"           # Daily @ midnight UTC
  checks: "*/5 * * * *"         # Every 5 minutes
  uptime: "0 */4 * * *"         # Every 4 hours
  trigger: "0 * * * *"          # Every hour for manual triggers
  site: "0 1 * * *"             # Daily @ 1 AM UTC

# Git commit details
commitMessages:
  commitAuthorName: "Upptime Bot"
  commitAuthorEmail: "bot@upptime.js.org"

# Status page features
statusPageTemplate: "Markdown"

# Keep 90 days of history (3 months)
history:
  lines: 90

# Number of failed checks before marking service as down
threshold: 5

# Additional features
averageResponse: true
responseTimeIndicator: true
charts: true

# i18n/copyright and footer
i18n:
  copyrightNotice: "Copyright Â© 2025 TuxedoDrive. All rights reserved. Keep your car wash running smoothly."
  links:
    - text: "ğŸ“Š Real-time Status"
      href: "https://status.tuxedo.drive.dev"
    - text: "ğŸˆ Main Website"
      href: "https://tuxedodrive.com"
    - text: "ğŸ™ GitHub"
      href: "https://github.com/tuxedodrive/status"
    - text: "ğŸ’¬ Support"
      href: "mailto:engineering@tuxedodrive.com"
